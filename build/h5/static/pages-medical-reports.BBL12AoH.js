import{_ as a,c as e,w as t,n as l,d as s,h as r,a as o,N as i,i as n,r as c,o as d,e as u,m,p,j as f,k as b,u as h,F as _,v,t as y,q as F,J as k}from"./js/index.DbooXYOL.js";import{P as R}from"./PageHeader.TnuYEyYk.js";const D=a({components:{PageHeader:R},data:()=>({activeFilter:"all",reports:[],filteredReports:[],loading:!1}),onLoad(){this.loadReports()},methods:{async loadReports(){this.loading=!0;try{this.reports=[{id:"1",title:"è¡€å¸¸è§„æ£€æŸ¥",date:"2024-01-15",hospital:"åŒ—äº¬åå’ŒåŒ»é™¢",department:"æ£€éªŒç§‘",status:"normal",summary:[{label:"ç™½ç»†èƒž",value:"6.5Ã—10â¹/L",abnormal:!1},{label:"çº¢ç»†èƒž",value:"4.2Ã—10Â¹Â²/L",abnormal:!1},{label:"è¡€çº¢è›‹ç™½",value:"135g/L",abnormal:!1},{label:"è¡€å°æ¿",value:"180Ã—10â¹/L",abnormal:!1}]},{id:"2",title:"è‚åŠŸèƒ½æ£€æŸ¥",date:"2024-01-10",hospital:"åŒ—äº¬å¤§å­¦ç¬¬ä¸€åŒ»é™¢",department:"æ£€éªŒç§‘",status:"abnormal",summary:[{label:"ALT",value:"85U/L",abnormal:!0},{label:"AST",value:"65U/L",abnormal:!0},{label:"æ€»èƒ†çº¢ç´ ",value:"15Î¼mol/L",abnormal:!1},{label:"ç™½è›‹ç™½",value:"42g/L",abnormal:!1}]},{id:"3",title:"å¿ƒç”µå›¾æ£€æŸ¥",date:"2024-01-05",hospital:"æ¸…åŽå¤§å­¦é™„å±žåŒ»é™¢",department:"å¿ƒå†…ç§‘",status:"normal",summary:[{label:"å¿ƒçŽ‡",value:"72æ¬¡/åˆ†",abnormal:!1},{label:"å¿ƒå¾‹",value:"çª¦æ€§å¿ƒå¾‹",abnormal:!1},{label:"PRé—´æœŸ",value:"0.16s",abnormal:!1},{label:"QTé—´æœŸ",value:"0.42s",abnormal:!1}]},{id:"4",title:"èƒ¸éƒ¨Xçº¿æ£€æŸ¥",date:"2023-12-20",hospital:"åŒ—äº¬åå’ŒåŒ»é™¢",department:"æ”¾å°„ç§‘",status:"normal",summary:[{label:"è‚ºéƒ¨",value:"æœªè§å¼‚å¸¸",abnormal:!1},{label:"å¿ƒè„",value:"å¤§å°æ­£å¸¸",abnormal:!1},{label:"çºµéš”",value:"æ— å¼‚å¸¸",abnormal:!1},{label:"èƒ¸è†œ",value:"æ— ç§¯æ¶²",abnormal:!1}]}],this.filteredReports=[...this.reports]}catch(a){console.error("åŠ è½½æŠ¥å‘Šå¤±è´¥:",a),o({title:"åŠ è½½å¤±è´¥",icon:"none"})}finally{this.loading=!1}},setFilter(a){this.activeFilter=a,this.filterReports()},filterReports(){let a=[...this.reports];switch(this.activeFilter){case"recent":const e=new Date;e.setDate(e.getDate()-30),a=a.filter((a=>new Date(a.date)>=e));break;case"abnormal":a=a.filter((a=>"abnormal"===a.status))}this.filteredReports=a},getStatusText:a=>({normal:"æ­£å¸¸",abnormal:"å¼‚å¸¸",pending:"å¾…å®¡æ ¸"}[a]||"æœªçŸ¥"),viewReportDetail(a){l({url:`/pages/medical/report-detail?id=${a.id}`})},shareReport(a){i({itemList:["åˆ†äº«ç»™åŒ»ç”Ÿ","åˆ†äº«ç»™å®¶äºº","å¯¼å‡ºPDF"],success:e=>{switch(["shareToDoctor","shareToFamily","exportPDF"][e.tapIndex]){case"shareToDoctor":this.shareToDoctor(a);break;case"shareToFamily":this.shareToFamily(a);break;case"exportPDF":this.exportPDF(a)}}})},async shareToDoctor(a){try{o({title:"æ¨¡æ‹Ÿï¼šåˆ†äº«æˆåŠŸ",icon:"success"})}catch(e){o({title:"åˆ†äº«å¤±è´¥",icon:"none"})}},async shareToFamily(a){try{o({title:"æ¨¡æ‹Ÿï¼šåˆ†äº«æˆåŠŸ",icon:"success"})}catch(e){o({title:"åˆ†äº«å¤±è´¥",icon:"none"})}},exportPDF(a){s({title:"å¯¼å‡ºä¸­..."}),setTimeout((()=>{r(),o({title:"å¯¼å‡ºæˆåŠŸ",icon:"success"})}),2e3)},addReport(){l({url:"/pages/medical/add-report"})}}},[["render",function(a,l,s,r,o,i){const R=c("page-header"),D=f,g=n,T=F;return d(),e(g,{class:"container"},{default:t((()=>[u(R,{title:"æ£€æŸ¥æŠ¥å‘Š"}),u(g,{class:"content"},{default:t((()=>[u(g,{class:"filter-section"},{default:t((()=>[u(g,{class:"filter-tabs"},{default:t((()=>[u(g,{class:p(["filter-tab",{active:"all"===o.activeFilter}]),onClick:l[0]||(l[0]=a=>i.setFilter("all"))},{default:t((()=>[u(D,null,{default:t((()=>[b("å…¨éƒ¨")])),_:1})])),_:1},8,["class"]),u(g,{class:p(["filter-tab",{active:"recent"===o.activeFilter}]),onClick:l[1]||(l[1]=a=>i.setFilter("recent"))},{default:t((()=>[u(D,null,{default:t((()=>[b("æœ€è¿‘")])),_:1})])),_:1},8,["class"]),u(g,{class:p(["filter-tab",{active:"abnormal"===o.activeFilter}]),onClick:l[2]||(l[2]=a=>i.setFilter("abnormal"))},{default:t((()=>[u(D,null,{default:t((()=>[b("å¼‚å¸¸")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1}),u(g,{class:"report-list"},{default:t((()=>[(d(!0),h(_,null,v(o.filteredReports,((a,l)=>(d(),e(g,{class:"report-item",key:l,onClick:e=>i.viewReportDetail(a)},{default:t((()=>[u(g,{class:"report-header"},{default:t((()=>[u(g,{class:"report-info"},{default:t((()=>[u(D,{class:"report-title"},{default:t((()=>[b(y(a.title),1)])),_:2},1024),u(D,{class:"report-date"},{default:t((()=>[b(y(a.date),1)])),_:2},1024)])),_:2},1024),u(g,{class:p(["report-status",a.status])},{default:t((()=>[u(D,null,{default:t((()=>[b(y(i.getStatusText(a.status)),1)])),_:2},1024)])),_:2},1032,["class"])])),_:2},1024),u(g,{class:"report-details"},{default:t((()=>[u(D,{class:"hospital-name"},{default:t((()=>[b("ðŸ¥ "+y(a.hospital),1)])),_:2},1024),u(D,{class:"department-name"},{default:t((()=>[b("ðŸ“‹ "+y(a.department),1)])),_:2},1024)])),_:2},1024),u(g,{class:"report-summary"},{default:t((()=>[(d(!0),h(_,null,v(a.summary,((a,l)=>(d(),e(g,{class:"summary-item",key:l},{default:t((()=>[u(D,{class:"item-label"},{default:t((()=>[b(y(a.label)+"ï¼š",1)])),_:2},1024),u(D,{class:p(["item-value",{abnormal:a.abnormal}])},{default:t((()=>[b(y(a.value),1)])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:2},1024),u(g,{class:"report-actions"},{default:t((()=>[u(T,{class:"action-btn view-btn",onClick:k((e=>i.viewReportDetail(a)),["stop"])},{default:t((()=>[u(D,null,{default:t((()=>[b("æŸ¥çœ‹è¯¦æƒ…")])),_:1})])),_:2},1032,["onClick"]),u(T,{class:"action-btn share-btn",onClick:k((e=>i.shareReport(a)),["stop"])},{default:t((()=>[u(D,null,{default:t((()=>[b("åˆ†äº«")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),0===o.filteredReports.length?(d(),e(g,{key:0,class:"empty-state"},{default:t((()=>[u(D,{class:"empty-icon"},{default:t((()=>[b("ðŸ“‹")])),_:1}),u(D,{class:"empty-text"},{default:t((()=>[b("æš‚æ— æ£€æŸ¥æŠ¥å‘Š")])),_:1})])),_:1})):m("",!0),u(g,{class:"add-report-section"},{default:t((()=>[u(T,{class:"add-report-btn",onClick:i.addReport},{default:t((()=>[u(D,null,{default:t((()=>[b("+ æ·»åŠ æ£€æŸ¥æŠ¥å‘Š")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-ed4e454f"]]);export{D as default};
