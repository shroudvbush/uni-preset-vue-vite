import{_ as a,c as e,w as t,n as l,d as s,h as r,a as o,N as i,i as n,r as c,o as d,e as u,m,p,j as f,k as b,u as h,F as _,v,t as y,q as F,J as k}from"./js/index.DbooXYOL.js";import{P as R}from"./PageHeader.TnuYEyYk.js";const D=a({components:{PageHeader:R},data:()=>({activeFilter:"all",reports:[],filteredReports:[],loading:!1}),onLoad(){this.loadReports()},methods:{async loadReports(){this.loading=!0;try{this.reports=[{id:"1",title:"血常规检查",date:"2024-01-15",hospital:"北京协和医院",department:"检验科",status:"normal",summary:[{label:"白细胞",value:"6.5×10⁹/L",abnormal:!1},{label:"红细胞",value:"4.2×10¹²/L",abnormal:!1},{label:"血红蛋白",value:"135g/L",abnormal:!1},{label:"血小板",value:"180×10⁹/L",abnormal:!1}]},{id:"2",title:"肝功能检查",date:"2024-01-10",hospital:"北京大学第一医院",department:"检验科",status:"abnormal",summary:[{label:"ALT",value:"85U/L",abnormal:!0},{label:"AST",value:"65U/L",abnormal:!0},{label:"总胆红素",value:"15μmol/L",abnormal:!1},{label:"白蛋白",value:"42g/L",abnormal:!1}]},{id:"3",title:"心电图检查",date:"2024-01-05",hospital:"清华大学附属医院",department:"心内科",status:"normal",summary:[{label:"心率",value:"72次/分",abnormal:!1},{label:"心律",value:"窦性心律",abnormal:!1},{label:"PR间期",value:"0.16s",abnormal:!1},{label:"QT间期",value:"0.42s",abnormal:!1}]},{id:"4",title:"胸部X线检查",date:"2023-12-20",hospital:"北京协和医院",department:"放射科",status:"normal",summary:[{label:"肺部",value:"未见异常",abnormal:!1},{label:"心脏",value:"大小正常",abnormal:!1},{label:"纵隔",value:"无异常",abnormal:!1},{label:"胸膜",value:"无积液",abnormal:!1}]}],this.filteredReports=[...this.reports]}catch(a){console.error("加载报告失败:",a),o({title:"加载失败",icon:"none"})}finally{this.loading=!1}},setFilter(a){this.activeFilter=a,this.filterReports()},filterReports(){let a=[...this.reports];switch(this.activeFilter){case"recent":const e=new Date;e.setDate(e.getDate()-30),a=a.filter((a=>new Date(a.date)>=e));break;case"abnormal":a=a.filter((a=>"abnormal"===a.status))}this.filteredReports=a},getStatusText:a=>({normal:"正常",abnormal:"异常",pending:"待审核"}[a]||"未知"),viewReportDetail(a){l({url:`/pages/medical/report-detail?id=${a.id}`})},shareReport(a){i({itemList:["分享给医生","分享给家人","导出PDF"],success:e=>{switch(["shareToDoctor","shareToFamily","exportPDF"][e.tapIndex]){case"shareToDoctor":this.shareToDoctor(a);break;case"shareToFamily":this.shareToFamily(a);break;case"exportPDF":this.exportPDF(a)}}})},async shareToDoctor(a){try{o({title:"模拟：分享成功",icon:"success"})}catch(e){o({title:"分享失败",icon:"none"})}},async shareToFamily(a){try{o({title:"模拟：分享成功",icon:"success"})}catch(e){o({title:"分享失败",icon:"none"})}},exportPDF(a){s({title:"导出中..."}),setTimeout((()=>{r(),o({title:"导出成功",icon:"success"})}),2e3)},addReport(){l({url:"/pages/medical/add-report"})}}},[["render",function(a,l,s,r,o,i){const R=c("page-header"),D=f,g=n,T=F;return d(),e(g,{class:"container"},{default:t((()=>[u(R,{title:"检查报告"}),u(g,{class:"content"},{default:t((()=>[u(g,{class:"filter-section"},{default:t((()=>[u(g,{class:"filter-tabs"},{default:t((()=>[u(g,{class:p(["filter-tab",{active:"all"===o.activeFilter}]),onClick:l[0]||(l[0]=a=>i.setFilter("all"))},{default:t((()=>[u(D,null,{default:t((()=>[b("全部")])),_:1})])),_:1},8,["class"]),u(g,{class:p(["filter-tab",{active:"recent"===o.activeFilter}]),onClick:l[1]||(l[1]=a=>i.setFilter("recent"))},{default:t((()=>[u(D,null,{default:t((()=>[b("最近")])),_:1})])),_:1},8,["class"]),u(g,{class:p(["filter-tab",{active:"abnormal"===o.activeFilter}]),onClick:l[2]||(l[2]=a=>i.setFilter("abnormal"))},{default:t((()=>[u(D,null,{default:t((()=>[b("异常")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1}),u(g,{class:"report-list"},{default:t((()=>[(d(!0),h(_,null,v(o.filteredReports,((a,l)=>(d(),e(g,{class:"report-item",key:l,onClick:e=>i.viewReportDetail(a)},{default:t((()=>[u(g,{class:"report-header"},{default:t((()=>[u(g,{class:"report-info"},{default:t((()=>[u(D,{class:"report-title"},{default:t((()=>[b(y(a.title),1)])),_:2},1024),u(D,{class:"report-date"},{default:t((()=>[b(y(a.date),1)])),_:2},1024)])),_:2},1024),u(g,{class:p(["report-status",a.status])},{default:t((()=>[u(D,null,{default:t((()=>[b(y(i.getStatusText(a.status)),1)])),_:2},1024)])),_:2},1032,["class"])])),_:2},1024),u(g,{class:"report-details"},{default:t((()=>[u(D,{class:"hospital-name"},{default:t((()=>[b("🏥 "+y(a.hospital),1)])),_:2},1024),u(D,{class:"department-name"},{default:t((()=>[b("📋 "+y(a.department),1)])),_:2},1024)])),_:2},1024),u(g,{class:"report-summary"},{default:t((()=>[(d(!0),h(_,null,v(a.summary,((a,l)=>(d(),e(g,{class:"summary-item",key:l},{default:t((()=>[u(D,{class:"item-label"},{default:t((()=>[b(y(a.label)+"：",1)])),_:2},1024),u(D,{class:p(["item-value",{abnormal:a.abnormal}])},{default:t((()=>[b(y(a.value),1)])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:2},1024),u(g,{class:"report-actions"},{default:t((()=>[u(T,{class:"action-btn view-btn",onClick:k((e=>i.viewReportDetail(a)),["stop"])},{default:t((()=>[u(D,null,{default:t((()=>[b("查看详情")])),_:1})])),_:2},1032,["onClick"]),u(T,{class:"action-btn share-btn",onClick:k((e=>i.shareReport(a)),["stop"])},{default:t((()=>[u(D,null,{default:t((()=>[b("分享")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),0===o.filteredReports.length?(d(),e(g,{key:0,class:"empty-state"},{default:t((()=>[u(D,{class:"empty-icon"},{default:t((()=>[b("📋")])),_:1}),u(D,{class:"empty-text"},{default:t((()=>[b("暂无检查报告")])),_:1})])),_:1})):m("",!0),u(g,{class:"add-report-section"},{default:t((()=>[u(T,{class:"add-report-btn",onClick:i.addReport},{default:t((()=>[u(D,null,{default:t((()=>[b("+ 添加检查报告")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-ed4e454f"]]);export{D as default};
