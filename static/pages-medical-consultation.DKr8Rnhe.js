import{_ as e,c as t,w as s,a,d as l,x as o,h as c,y as n,i as d,r as i,o as m,e as u,m as r,p as f,j as p,k as y,u as _,F as h,v as g,t as D,z as I,K as C,D as k,f as v,q as x}from"./js/index.DiTfkHc-.js";import{P as b}from"./PageHeader.Bk91XqsU.js";const T=e({components:{PageHeader:b},data:()=>({selectedType:"text",selectedDepartment:"",selectedDoctor:"",departments:[],doctors:[],durationIndex:-1,durationOptions:["1-3å¤©","3-7å¤©","1-2å‘¨","2-4å‘¨","1-3ä¸ªæœˆ","3ä¸ªæœˆä»¥ä¸Š"],symptomInfo:{mainSymptom:"",duration:"",hasAllergy:!1,allergyDetails:"",images:[]}}),computed:{selectedDoctorInfo(){return this.doctors.find((e=>e.id===this.selectedDoctor))},isFormComplete(){return this.selectedDepartment&&this.selectedDoctor&&this.symptomInfo.mainSymptom.trim()}},onLoad(){this.loadDepartments()},methods:{selectType(e){this.selectedType=e},async loadDepartments(){this.departments=[{id:"1",name:"å†…ç§‘",icon:"ğŸ¥",desc:"å†…ç§‘ç–¾ç—…"},{id:"2",name:"å¤–ç§‘",icon:"ğŸ”ª",desc:"å¤–ç§‘ç–¾ç—…"},{id:"3",name:"å¦‡äº§ç§‘",icon:"ğŸ‘¶",desc:"å¦‡ç§‘äº§ç§‘"},{id:"4",name:"å„¿ç§‘",icon:"ğŸ‘¶",desc:"å„¿ç«¥ç–¾ç—…"},{id:"5",name:"çš®è‚¤ç§‘",icon:"ğŸ¦ ",desc:"çš®è‚¤ç—…"},{id:"6",name:"çœ¼ç§‘",icon:"ğŸ‘ï¸",desc:"çœ¼éƒ¨ç–¾ç—…"},{id:"7",name:"éª¨ç§‘",icon:"ğŸ¦´",desc:"éª¨ç§‘ç–¾ç—…"},{id:"8",name:"å¿ƒç†ç§‘",icon:"ğŸ§ ",desc:"å¿ƒç†å¥åº·"}]},async selectDepartment(e){this.selectedDepartment=e.id,this.selectedDoctor="",await this.loadDoctors()},async loadDoctors(){this.doctors=[{id:"1",name:"å¼ åŒ»ç”Ÿ",title:"ä¸»ä»»åŒ»å¸ˆ",hospital:"åŒ—äº¬åå’ŒåŒ»é™¢",specialty:"å¿ƒè¡€ç®¡ç–¾ç—…",rating:4.8,consultationCount:1250,responseRate:98,fee:50},{id:"2",name:"æåŒ»ç”Ÿ",title:"å‰¯ä¸»ä»»åŒ»å¸ˆ",hospital:"åŒ—äº¬å¤§å­¦ç¬¬ä¸€åŒ»é™¢",specialty:"æ¶ˆåŒ–ç³»ç»Ÿç–¾ç—…",rating:4.6,consultationCount:980,responseRate:95,fee:40},{id:"3",name:"ç‹åŒ»ç”Ÿ",title:"ä¸»æ²»åŒ»å¸ˆ",hospital:"æ¸…åå¤§å­¦é™„å±åŒ»é™¢",specialty:"å‘¼å¸ç³»ç»Ÿç–¾ç—…",rating:4.5,consultationCount:750,responseRate:92,fee:30}]},selectDoctor(e){this.selectedDoctor=e.id},onDurationChange(e){this.durationIndex=e.detail.value,this.symptomInfo.duration=this.durationOptions[this.durationIndex]},onAllergyChange(e){this.symptomInfo.hasAllergy=e.detail.value,this.symptomInfo.hasAllergy||(this.symptomInfo.allergyDetails="")},chooseImage(){n({count:6-this.symptomInfo.images.length,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{this.symptomInfo.images=[...this.symptomInfo.images,...e.tempFilePaths]}})},deleteImage(e){this.symptomInfo.images.splice(e,1)},async submitConsultation(){if(this.isFormComplete)try{l({title:"æäº¤ä¸­..."});this.selectedType,this.selectedDepartment,this.selectedDoctor,this.symptomInfo;a({title:"æäº¤æˆåŠŸ",icon:"success"}),setTimeout((()=>{o()}),1500)}catch(e){console.error("æäº¤é—®è¯Šå¤±è´¥:",e),a({title:"æäº¤å¤±è´¥",icon:"none"})}finally{c()}else a({title:"è¯·å®Œå–„é—®è¯Šä¿¡æ¯",icon:"none"})}}},[["render",function(e,a,l,o,c,n){const b=i("page-header"),T=p,A=d,F=I,V=C,j=k,S=v,O=x;return m(),t(A,{class:"container"},{default:s((()=>[u(b,{title:"åœ¨çº¿é—®è¯Š"}),u(A,{class:"content"},{default:s((()=>[u(A,{class:"consultation-types"},{default:s((()=>[u(A,{class:f(["type-item",{active:"text"===c.selectedType}]),onClick:a[0]||(a[0]=e=>n.selectType("text"))},{default:s((()=>[u(T,{class:"type-icon"},{default:s((()=>[y("ğŸ’¬")])),_:1}),u(T,{class:"type-name"},{default:s((()=>[y("å›¾æ–‡é—®è¯Š")])),_:1}),u(T,{class:"type-desc"},{default:s((()=>[y("æ–‡å­—æè¿°ç—‡çŠ¶")])),_:1})])),_:1},8,["class"]),u(A,{class:f(["type-item",{active:"voice"===c.selectedType}]),onClick:a[1]||(a[1]=e=>n.selectType("voice"))},{default:s((()=>[u(T,{class:"type-icon"},{default:s((()=>[y("ğŸ¤")])),_:1}),u(T,{class:"type-name"},{default:s((()=>[y("è¯­éŸ³é—®è¯Š")])),_:1}),u(T,{class:"type-desc"},{default:s((()=>[y("è¯­éŸ³æè¿°ç—‡çŠ¶")])),_:1})])),_:1},8,["class"]),u(A,{class:f(["type-item",{active:"video"===c.selectedType}]),onClick:a[2]||(a[2]=e=>n.selectType("video"))},{default:s((()=>[u(T,{class:"type-icon"},{default:s((()=>[y("ğŸ“¹")])),_:1}),u(T,{class:"type-name"},{default:s((()=>[y("è§†é¢‘é—®è¯Š")])),_:1}),u(T,{class:"type-desc"},{default:s((()=>[y("é¢å¯¹é¢äº¤æµ")])),_:1})])),_:1},8,["class"])])),_:1}),u(A,{class:"section"},{default:s((()=>[u(A,{class:"section-title"},{default:s((()=>[y("é€‰æ‹©ç§‘å®¤")])),_:1}),u(A,{class:"department-list"},{default:s((()=>[(m(!0),_(h,null,g(c.departments,(e=>(m(),t(A,{class:f(["department-item",{active:c.selectedDepartment===e.id}]),key:e.id,onClick:t=>n.selectDepartment(e)},{default:s((()=>[u(T,{class:"department-icon"},{default:s((()=>[y(D(e.icon),1)])),_:2},1024),u(T,{class:"department-name"},{default:s((()=>[y(D(e.name),1)])),_:2},1024),u(T,{class:"department-desc"},{default:s((()=>[y(D(e.desc),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),c.selectedDepartment?(m(),t(A,{key:0,class:"section"},{default:s((()=>[u(A,{class:"section-title"},{default:s((()=>[y("é€‰æ‹©åŒ»ç”Ÿ")])),_:1}),u(A,{class:"doctor-list"},{default:s((()=>[(m(!0),_(h,null,g(c.doctors,(e=>(m(),t(A,{class:f(["doctor-item",{active:c.selectedDoctor===e.id}]),key:e.id,onClick:t=>n.selectDoctor(e)},{default:s((()=>[u(A,{class:"doctor-avatar"},{default:s((()=>[u(T,null,{default:s((()=>[y(D(e.name.charAt(0)),1)])),_:2},1024)])),_:2},1024),u(A,{class:"doctor-info"},{default:s((()=>[u(A,{class:"doctor-header"},{default:s((()=>[u(T,{class:"doctor-name"},{default:s((()=>[y(D(e.name),1)])),_:2},1024),u(T,{class:"doctor-title"},{default:s((()=>[y(D(e.title),1)])),_:2},1024)])),_:2},1024),u(T,{class:"doctor-hospital"},{default:s((()=>[y(D(e.hospital),1)])),_:2},1024),u(T,{class:"doctor-specialty"},{default:s((()=>[y(D(e.specialty),1)])),_:2},1024),u(A,{class:"doctor-stats"},{default:s((()=>[u(T,{class:"stat-item"},{default:s((()=>[y("è¯„åˆ† "+D(e.rating),1)])),_:2},1024),u(T,{class:"stat-item"},{default:s((()=>[y("æ¥è¯Š "+D(e.consultationCount),1)])),_:2},1024),u(T,{class:"stat-item"},{default:s((()=>[y("å›å¤ç‡ "+D(e.responseRate)+"%",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(A,{class:"doctor-fee"},{default:s((()=>[u(T,{class:"fee-amount"},{default:s((()=>[y("Â¥"+D(e.fee),1)])),_:2},1024),u(T,{class:"fee-unit"},{default:s((()=>[y("/æ¬¡")])),_:1})])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})):r("",!0),c.selectedDoctor?(m(),t(A,{key:1,class:"section"},{default:s((()=>[u(A,{class:"section-title"},{default:s((()=>[y("ç—‡çŠ¶æè¿°")])),_:1}),u(A,{class:"symptom-form"},{default:s((()=>[u(A,{class:"form-item"},{default:s((()=>[u(T,{class:"form-label"},{default:s((()=>[y("ä¸»è¦ç—‡çŠ¶")])),_:1}),u(F,{class:"form-textarea",modelValue:c.symptomInfo.mainSymptom,"onUpdate:modelValue":a[3]||(a[3]=e=>c.symptomInfo.mainSymptom=e),placeholder:"è¯·è¯¦ç»†æè¿°æ‚¨çš„ä¸»è¦ç—‡çŠ¶...",maxlength:"500"},null,8,["modelValue"]),u(T,{class:"char-count"},{default:s((()=>[y(D(c.symptomInfo.mainSymptom.length)+"/500",1)])),_:1})])),_:1}),u(A,{class:"form-item"},{default:s((()=>[u(T,{class:"form-label"},{default:s((()=>[y("ç—‡çŠ¶æŒç»­æ—¶é—´")])),_:1}),u(V,{class:"form-picker",value:c.durationIndex,range:c.durationOptions,onChange:n.onDurationChange},{default:s((()=>[u(A,{class:"picker-text"},{default:s((()=>[y(D(c.durationOptions[c.durationIndex]||"è¯·é€‰æ‹©æŒç»­æ—¶é—´"),1)])),_:1})])),_:1},8,["value","range","onChange"])])),_:1}),u(A,{class:"form-item"},{default:s((()=>[u(T,{class:"form-label"},{default:s((()=>[y("æ˜¯å¦æœ‰è¿‡æ•å²")])),_:1}),u(j,{checked:c.symptomInfo.hasAllergy,onChange:n.onAllergyChange,color:"#6C63FF"},null,8,["checked","onChange"])])),_:1}),c.symptomInfo.hasAllergy?(m(),t(A,{key:0,class:"form-item"},{default:s((()=>[u(T,{class:"form-label"},{default:s((()=>[y("è¿‡æ•å²è¯¦æƒ…")])),_:1}),u(F,{class:"form-textarea",modelValue:c.symptomInfo.allergyDetails,"onUpdate:modelValue":a[4]||(a[4]=e=>c.symptomInfo.allergyDetails=e),placeholder:"è¯·æè¿°æ‚¨çš„è¿‡æ•å²...",maxlength:"200"},null,8,["modelValue"])])),_:1})):r("",!0)])),_:1})])),_:1})):r("",!0),c.selectedDoctor?(m(),t(A,{key:2,class:"section"},{default:s((()=>[u(A,{class:"section-title"},{default:s((()=>[y("ä¸Šä¼ å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰")])),_:1}),u(A,{class:"image-upload"},{default:s((()=>[u(A,{class:"upload-grid"},{default:s((()=>[(m(!0),_(h,null,g(c.symptomInfo.images,((e,a)=>(m(),t(A,{class:"upload-item",key:a},{default:s((()=>[u(S,{src:e,class:"uploaded-image"},null,8,["src"]),u(A,{class:"delete-btn",onClick:e=>n.deleteImage(a)},{default:s((()=>[y("Ã—")])),_:2},1032,["onClick"])])),_:2},1024)))),128)),c.symptomInfo.images.length<6?(m(),t(A,{key:0,class:"upload-btn",onClick:n.chooseImage},{default:s((()=>[u(T,{class:"upload-icon"},{default:s((()=>[y("+")])),_:1}),u(T,{class:"upload-text"},{default:s((()=>[y("æ·»åŠ å›¾ç‰‡")])),_:1})])),_:1},8,["onClick"])):r("",!0)])),_:1}),u(T,{class:"upload-tip"},{default:s((()=>[y("æœ€å¤šå¯ä¸Šä¼ 6å¼ å›¾ç‰‡ï¼Œæ”¯æŒjpgã€pngæ ¼å¼")])),_:1})])),_:1})])),_:1})):r("",!0),c.selectedDoctor?(m(),t(A,{key:3,class:"fee-section"},{default:s((()=>[u(A,{class:"fee-info"},{default:s((()=>[u(T,{class:"fee-label"},{default:s((()=>[y("é—®è¯Šè´¹ç”¨")])),_:1}),u(T,{class:"fee-amount"},{default:s((()=>{var e;return[y("Â¥"+D((null==(e=n.selectedDoctorInfo)?void 0:e.fee)||0),1)]})),_:1})])),_:1}),u(T,{class:"fee-desc"},{default:s((()=>[y("åŒ…å«åŒ»ç”Ÿå›å¤å’Œåç»­3å¤©å†…å…è´¹è¿½é—®")])),_:1})])),_:1})):r("",!0),u(A,{class:"submit-section"},{default:s((()=>[u(O,{class:"submit-btn",disabled:!n.isFormComplete,onClick:n.submitConsultation},{default:s((()=>[u(T,null,{default:s((()=>[y("æäº¤é—®è¯Š")])),_:1})])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-3acb2d92"]]);export{T as default};
