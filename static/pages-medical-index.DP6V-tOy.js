import{_ as e,c as a,w as t,a as s,n as l,i,r as n,o as c,e as d,m as o,k as r,j as m,u as p,F as u,v as f,t as _,p as h,q as g}from"./js/index.DiTfkHc-.js";import{P as v}from"./PageHeader.Bk91XqsU.js";import{g as k,a as w}from"./medical.Bxe7BSIp.js";import"./request.BnSz9hlZ.js";const y=e({components:{PageHeader:v},data:()=>({recentAppointments:[],recommendHospitals:[],healthReminders:[],loading:!1}),onLoad(){this.loadData()},onShow(){this.loadData()},methods:{async loadData(){this.loading=!0;try{const e=await k({status:"all",limit:3});0===e.code&&(this.recentAppointments=e.data.slice(0,3));const a=await w({recommend:!0,limit:5});0===a.code&&(this.recommendHospitals=a.data),this.healthReminders=[{id:1,title:"Ë°ÄÂéãÊ£ÄÊü•ÊèêÈÜí",time:"‰ªäÂ§© 14:00",type:"blood_pressure"},{id:2,title:"Â§çËØäÊèêÈÜí",time:"ÊòéÂ§© 09:30",type:"follow_up"}]}catch(e){console.error("Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:",e),s({title:"Âä†ËΩΩÂ§±Ë¥•",icon:"none"})}finally{this.loading=!1}},navigateTo(e){l({url:e})},viewAppointmentDetail(e){l({url:`/pages/medical/appointment?id=${e.id}`})},viewHospitalDetail(e){l({url:`/pages/medical/hospital?id=${e.id}`})},getStatusText:e=>({pending:"ÂæÖÁ°ÆËÆ§",confirmed:"Â∑≤Á°ÆËÆ§",completed:"Â∑≤ÂÆåÊàê",cancelled:"Â∑≤ÂèñÊ∂à"}[e]||e),handleReminder(e){switch(e.type){case"blood_pressure":l({url:"/pages/health-records/index"});break;case"follow_up":l({url:"/pages/medical/appointment"});break;default:s({title:"Â∑≤Â§ÑÁêÜ",icon:"success"})}}}},[["render",function(e,s,l,v,k,w){const y=n("page-header"),C=i,D=m,T=g;return c(),a(C,{class:"container"},{default:t((()=>[d(y,{title:"ÂåªÁñóÊúçÂä°"}),d(C,{class:"content"},{default:t((()=>[d(C,{class:"quick-services"},{default:t((()=>[d(C,{class:"service-grid"},{default:t((()=>[d(C,{class:"service-item",onClick:s[0]||(s[0]=e=>w.navigateTo("/pages/medical/hospital"))},{default:t((()=>[d(C,{class:"service-icon"},{default:t((()=>[r("üè•")])),_:1}),d(D,{class:"service-name"},{default:t((()=>[r("ÂåªÈô¢ÊåÇÂè∑")])),_:1})])),_:1}),d(C,{class:"service-item",onClick:s[1]||(s[1]=e=>w.navigateTo("/pages/medical/consultation"))},{default:t((()=>[d(C,{class:"service-icon"},{default:t((()=>[r("üë®‚Äç‚öïÔ∏è")])),_:1}),d(D,{class:"service-name"},{default:t((()=>[r("Âú®Á∫øÈóÆËØä")])),_:1})])),_:1}),d(C,{class:"service-item",onClick:s[2]||(s[2]=e=>w.navigateTo("/pages/medical/reports"))},{default:t((()=>[d(C,{class:"service-icon"},{default:t((()=>[r("üìã")])),_:1}),d(D,{class:"service-name"},{default:t((()=>[r("Ê£ÄÊü•Êä•Âëä")])),_:1})])),_:1}),d(C,{class:"service-item",onClick:s[3]||(s[3]=e=>w.navigateTo("/pages/medical/appointment"))},{default:t((()=>[d(C,{class:"service-icon"},{default:t((()=>[r("üìÖ")])),_:1}),d(D,{class:"service-name"},{default:t((()=>[r("ÊàëÁöÑÈ¢ÑÁ∫¶")])),_:1})])),_:1})])),_:1})])),_:1}),k.recentAppointments.length>0?(c(),a(C,{key:0,class:"recent-section"},{default:t((()=>[d(C,{class:"section-title"},{default:t((()=>[r("ÊúÄËøëÈ¢ÑÁ∫¶")])),_:1}),d(C,{class:"appointment-list"},{default:t((()=>[(c(!0),p(u,null,f(k.recentAppointments,((e,s)=>(c(),a(C,{class:"appointment-item",key:s,onClick:a=>w.viewAppointmentDetail(e)},{default:t((()=>[d(C,{class:"appointment-info"},{default:t((()=>[d(D,{class:"hospital-name"},{default:t((()=>[r(_(e.hospitalName),1)])),_:2},1024),d(D,{class:"department-name"},{default:t((()=>[r(_(e.departmentName),1)])),_:2},1024),d(D,{class:"doctor-name"},{default:t((()=>[r(_(e.doctorName),1)])),_:2},1024),d(D,{class:"appointment-time"},{default:t((()=>[r(_(e.appointmentDate)+" "+_(e.appointmentTime),1)])),_:2},1024)])),_:2},1024),d(C,{class:h(["appointment-status",e.status])},{default:t((()=>[d(D,null,{default:t((()=>[r(_(w.getStatusText(e.status)),1)])),_:2},1024)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):o("",!0),d(C,{class:"recommend-section"},{default:t((()=>[d(C,{class:"section-title"},{default:t((()=>[r("Êé®ËçêÂåªÈô¢")])),_:1}),d(C,{class:"hospital-list"},{default:t((()=>[(c(!0),p(u,null,f(k.recommendHospitals,((e,s)=>(c(),a(C,{class:"hospital-item",key:s,onClick:a=>w.viewHospitalDetail(e)},{default:t((()=>[d(C,{class:"hospital-info"},{default:t((()=>[d(D,{class:"hospital-name"},{default:t((()=>[r(_(e.name),1)])),_:2},1024),d(D,{class:"hospital-address"},{default:t((()=>[r(_(e.address),1)])),_:2},1024),d(D,{class:"hospital-rating"},{default:t((()=>[r("ËØÑÂàÜ: "+_(e.rating)+"ÂàÜ",1)])),_:2},1024)])),_:2},1024),d(C,{class:"hospital-distance"},{default:t((()=>[d(D,null,{default:t((()=>[r(_(e.distance)+"km",1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),k.healthReminders.length>0?(c(),a(C,{key:1,class:"reminder-section"},{default:t((()=>[d(C,{class:"section-title"},{default:t((()=>[r("ÂÅ•Â∫∑ÊèêÈÜí")])),_:1}),d(C,{class:"reminder-list"},{default:t((()=>[(c(!0),p(u,null,f(k.healthReminders,((e,s)=>(c(),a(C,{class:"reminder-item",key:s},{default:t((()=>[d(C,{class:"reminder-icon"},{default:t((()=>[r("üîî")])),_:1}),d(C,{class:"reminder-content"},{default:t((()=>[d(D,{class:"reminder-title"},{default:t((()=>[r(_(e.title),1)])),_:2},1024),d(D,{class:"reminder-time"},{default:t((()=>[r(_(e.time),1)])),_:2},1024)])),_:2},1024),d(C,{class:"reminder-action"},{default:t((()=>[d(T,{class:"action-btn",onClick:a=>w.handleReminder(e)},{default:t((()=>[r("Â§ÑÁêÜ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):o("",!0)])),_:1})])),_:1})}],["__scopeId","data-v-c55ad373"]]);export{y as default};
