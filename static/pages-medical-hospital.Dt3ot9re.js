import{_ as a,c as s,w as t,a as e,n as l,i,r as d,o as c,e as n,m as o,k as r,I as p,p as u,j as f,u as h,F as m,v as _,t as g,q as y,J as k}from"./js/index.DiTfkHc-.js";import{P as v}from"./PageHeader.Bk91XqsU.js";const H=a({components:{PageHeader:v},data:()=>({searchKeyword:"",activeFilter:"all",hospitals:[],filteredHospitals:[],loading:!1}),onLoad(){this.loadHospitals()},methods:{async loadHospitals(){this.loading=!0;try{this.hospitals=[{id:"1",name:"北京协和医院",address:"北京市东城区东单帅府园1号",distance:2.5,rating:4.8,tags:["三甲医院","综合医院"],departments:["内科","外科","妇产科","儿科","眼科"]},{id:"2",name:"北京大学第一医院",address:"北京市西城区西什库大街8号",distance:3.2,rating:4.6,tags:["三甲医院","综合医院"],departments:["内科","外科","神经科","皮肤科"]},{id:"3",name:"清华大学附属北京清华长庚医院",address:"北京市昌平区立汤路168号",distance:8.5,rating:4.4,tags:["三甲医院","综合医院"],departments:["内科","外科","骨科","心内科"]}],this.filteredHospitals=[...this.hospitals]}catch(a){console.error("加载医院列表失败:",a),e({title:"加载失败",icon:"none"})}finally{this.loading=!1}},onSearch(){this.filterHospitals()},setFilter(a){this.activeFilter=a,this.filterHospitals()},filterHospitals(){let a=[...this.hospitals];switch(this.searchKeyword.trim()&&(a=a.filter((a=>a.name.includes(this.searchKeyword)||a.address.includes(this.searchKeyword)))),this.activeFilter){case"nearby":a=a.filter((a=>a.distance<=5));break;case"recommend":a=a.filter((a=>a.rating>=4.5))}this.filteredHospitals=a},viewHospitalDetail(a){l({url:`/pages/medical/hospital-detail?id=${a.id}`})},makeAppointment(a){l({url:`/pages/medical/appointment?hospitalId=${a.id}`})},viewMap(a){e({title:"打开地图功能",icon:"none"})}}},[["render",function(a,e,l,v,H,b){const w=d("page-header"),F=i,C=p,K=f,j=y;return c(),s(F,{class:"container"},{default:t((()=>[n(w,{title:"医院列表"}),n(F,{class:"content"},{default:t((()=>[n(F,{class:"search-section"},{default:t((()=>[n(F,{class:"search-bar"},{default:t((()=>[n(F,{class:"search-icon"},{default:t((()=>[r("🔍")])),_:1}),n(C,{class:"search-input",modelValue:H.searchKeyword,"onUpdate:modelValue":e[0]||(e[0]=a=>H.searchKeyword=a),placeholder:"搜索医院名称",onInput:b.onSearch},null,8,["modelValue","onInput"])])),_:1})])),_:1}),n(F,{class:"filter-section"},{default:t((()=>[n(F,{class:"filter-tabs"},{default:t((()=>[n(F,{class:u(["filter-tab",{active:"all"===H.activeFilter}]),onClick:e[1]||(e[1]=a=>b.setFilter("all"))},{default:t((()=>[n(K,null,{default:t((()=>[r("全部")])),_:1})])),_:1},8,["class"]),n(F,{class:u(["filter-tab",{active:"nearby"===H.activeFilter}]),onClick:e[2]||(e[2]=a=>b.setFilter("nearby"))},{default:t((()=>[n(K,null,{default:t((()=>[r("附近")])),_:1})])),_:1},8,["class"]),n(F,{class:u(["filter-tab",{active:"recommend"===H.activeFilter}]),onClick:e[3]||(e[3]=a=>b.setFilter("recommend"))},{default:t((()=>[n(K,null,{default:t((()=>[r("推荐")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1}),n(F,{class:"hospital-list"},{default:t((()=>[(c(!0),h(m,null,_(H.filteredHospitals,((a,e)=>(c(),s(F,{class:"hospital-item",key:e,onClick:s=>b.viewHospitalDetail(a)},{default:t((()=>[n(F,{class:"hospital-info"},{default:t((()=>[n(F,{class:"hospital-header"},{default:t((()=>[n(K,{class:"hospital-name"},{default:t((()=>[r(g(a.name),1)])),_:2},1024),n(F,{class:"hospital-rating"},{default:t((()=>[n(K,{class:"rating-score"},{default:t((()=>[r(g(a.rating),1)])),_:2},1024),n(K,{class:"rating-star"},{default:t((()=>[r("⭐")])),_:1})])),_:2},1024)])),_:2},1024),n(F,{class:"hospital-details"},{default:t((()=>[n(K,{class:"hospital-address"},{default:t((()=>[r("📍 "+g(a.address),1)])),_:2},1024),n(K,{class:"hospital-distance"},{default:t((()=>[r("距离 "+g(a.distance)+"km",1)])),_:2},1024)])),_:2},1024),n(F,{class:"hospital-tags"},{default:t((()=>[(c(!0),h(m,null,_(a.tags,((a,e)=>(c(),s(F,{class:"tag",key:e},{default:t((()=>[n(K,null,{default:t((()=>[r(g(a),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024),n(F,{class:"hospital-departments"},{default:t((()=>[n(K,{class:"department-label"},{default:t((()=>[r("主要科室：")])),_:1}),n(K,{class:"department-list"},{default:t((()=>[r(g(a.departments.join("、")),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),n(F,{class:"hospital-actions"},{default:t((()=>[n(j,{class:"action-btn primary",onClick:k((s=>b.makeAppointment(a)),["stop"])},{default:t((()=>[n(K,null,{default:t((()=>[r("预约挂号")])),_:1})])),_:2},1032,["onClick"]),n(j,{class:"action-btn secondary",onClick:k((s=>b.viewMap(a)),["stop"])},{default:t((()=>[n(K,null,{default:t((()=>[r("查看地图")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),0===H.filteredHospitals.length?(c(),s(F,{key:0,class:"empty-state"},{default:t((()=>[n(K,{class:"empty-icon"},{default:t((()=>[r("🏥")])),_:1}),n(K,{class:"empty-text"},{default:t((()=>[r("暂无相关医院")])),_:1})])),_:1})):o("",!0)])),_:1})])),_:1})}],["__scopeId","data-v-7da421cd"]]);export{H as default};
